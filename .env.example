# =========================
# ===  BASE / GÉNÉRAL   ===
# =========================
# Niveau de logs de l’app (DEBUG | INFO | WARNING | ERROR)
LOG_LEVEL="INFO"

# Clé secrète Flask (sessions côté serveur). Mets un secret long + random.
FLASK_SECRET_KEY="__remplacer_par_un_secret_long__"

# Active/désactive le front web (0 = ON, 1 = OFF)
DISABLE_WEB="0"

# Autoriser les origines cross-site (0 = strict | 1 = tout)
ALLOW_ORIGIN_ANY="1"

# Origine Overwolf autorisée (si tu utilises l’overlay)
OVERWOLF_ORIGIN="overwolf-extension://__ton_extension_id__"


# =========================
# ===   DISCORD  OAUTH   ==
# =========================
DISCORD_TOKEN="__discord_bot_token__"
DISCORD_CLIENT_ID="__discord_app_id__"
DISCORD_CLIENT_SECRET="__discord_client_secret__"
DISCORD_OAUTH_SCOPES="identify guilds"
DISCORD_REDIRECT_URI="https://__ton_domaine__/auth/callback"

# ID propriétaire (pour commandes owner-only)
GREG_OWNER_ID="__ton_id_discord__"

# Webhook optionnel pour logs/alerts côté Discord
DISCORD_WEBHOOK_URL="https://discord.com/api/webhooks/__id__/__token__"


# =========================
# ===   SESSIONS WEB    ===
# =========================
SESSION_COOKIE_NAME="gregsid"
# "None" permet les cookies cross-site (utile si front+api sur domaines différents)
SESSION_COOKIE_SAMESITE="None"
SESSION_COOKIE_SECURE="1"     # 1 = cookie seulement via HTTPS


# =========================
# ===   MUSIQUE / BOT   ===
# =========================
# Délai (s) d’attente après join vocal pour jouer un SFX (sinon 0)
GREG_JOIN_SFX_DELAY="2.5"

# Poids de rôles pour la priorité de file (JSON **entre apostrophes**)
# NOTE: Dans un .env, mets des apostrophes autour du JSON pour éviter
#       les collisions de guillemets. (Ton .env actuel avait des " imbriqués)
PRIORITY_ROLE_WEIGHTS='{"DJ":85,"VIP":65,"Booster":55,"__DEFAULT__":10}'

# Limite d’items en file par utilisateur
QUEUE_PER_USER_CAP="10"


# =========================
# ===     SPOTIFY      ===
# =========================
SPOTIFY_CLIENT_ID="__spotify_client_id__"
SPOTIFY_CLIENT_SECRET="__spotify_client_secret__"
SPOTIFY_REDIRECT_URI="https://__ton_domaine__/api/v1/spotify/callback"
SPOTIFY_SCOPES="user-read-email playlist-read-private playlist-read-collaborative playlist-modify-public playlist-modify-private"
# Secret aléatoire côté serveur pour l’état OAuth
SPOTIFY_STATE_SECRET="__remplacer_par_un_secret_long__"


# =========================
# ===   SOUNDCLOUD     ===
# =========================
SOUNDCLOUD_CLIENT_ID="__soundcloud_client_id__"


# =========================
# ===     YOUTUBE      ===
# =========================
# 1) PO-TOKEN (SIMPLE & SUFFIT DÉJÀ)
# Token PO (non prefixé). YouTube change des choses => ça aide à éviter 403/410/429.
# Si défini, notre code l’injecte pour clients ios/android/web automatiquement.
YT_PO_TOKEN="__po_token_brut__"

# 2) Cookies (OPTIONNEL)
#   Choisis **une** option:
#   a) Fichier local "youtube.com_cookies.txt" (format Netscape)
#      -> place le fichier à la racine de l’app (ou copie-le au build)
#   b) Variable base64 (YTDLP_COOKIES_B64) si tu préfères injecter depuis Railway
#      -> plus simple en PaaS : ne nécessite pas d’écrire un fichier.
#
# Si tu utilises la variable ci-dessous, laisse-la commentée si tu n’en veux pas.
# YTDLP_COOKIES_B64="__base64_du_fichier_netscape__"

# (Info) Ton app utilisait YOUTUBE_COOKIES_PATH, mais **l’extractor** lit
# par défaut ./youtube.com_cookies.txt ou YTDLP_COOKIES_B64. Si tu gardes
# un autre chemin, assure-toi que le reste de ton code passe ce chemin à l’extractor.
# YOUTUBE_COOKIES_PATH="/app/youtube.com_cookies.txt"

# 3) Clients yt-dlp (OPTIONNEL). Ordre des clients YouTube essayés.
# YTDLP_CLIENTS="ios,android,web_creator,web,web_mobile"

# 4) Forcer IPv4 (souvent plus stable en PaaS) [1 par défaut]
# YTDLP_FORCE_IPV4="1"

# 5) User-Agent forcé (si besoin de contourner un blocage UA)
# YTDLP_FORCE_UA="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"

# 6) Proxy (OPTIONNEL). Si YouTube bride ton IP de PaaS
# YTDLP_HTTP_PROXY="http://user:pass@host:port"

# 7) Auto bascule vers le mode PIPE quand probe direct → 403/410/429 (ON par défaut)
# YTDLP_AUTO_PIPE_ON_403="1"

# 8) Verbosité debug de l’extractor (0 = off, 1 = on)
# YTDBG="1"
# Probe HTTP HEAD/RANGE en debug
# YTDBG_HTTP_PROBE="0"

# 9) (Legacy) Certaines anciennes versions utilisaient ce flag pour forcer PIPE.
#    Notre code s’appuie plutôt sur YTDLP_AUTO_PIPE_ON_403. Tu peux ignorer.
# YTDLP_PIPE_FIRST="1"


# =========================
# ===  PO-TOKEN PROVIDER ==
# =========================
# OPTIONNEL — Si tu montes un micro-service (ex: bgutil ytdlp pot provider),
# notre code commence par **appeler le provider** (puis Playwright en fallback).
# YT_POTOKEN_PROVIDER_URL="https://provider.example.com/api/v1/po-token?videoId="
# YT_POTOKEN_PROVIDER_KEY="__bearer_token_provider__"

# Playwright s’exécute **uniquement en fallback** si provider non défini/HS
# PLAYWRIGHT_HEADLESS="1"  # 1 = headless, 0 = visible (débug local)


# =========================
# ===   YT "BOT" (OPT)  ===
# =========================
# Si un module séparé les utilise (login sur compte Google), sinon ignore.
# YTBOT_USER="__email__"
# YTBOT_PASS="__password__"
